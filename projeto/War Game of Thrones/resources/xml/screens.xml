<?xml version="1.0" encoding="UTF-8"?>
<nifty xmlns="http://nifty-gui.sourceforge.net/nifty-1.3.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://nifty-gui.sourceforge.net/nifty-1.3.xsd http://nifty-gui.sourceforge.net/nifty-1.3.xsd">
	<useStyles filename="nifty-default-styles.xml" />
	<useControls filename="nifty-default-controls.xml" />
	<useControls filename="resources/xml/status_panel.xml" />
	<screen id="startingScreen" controller="gui.MainScreenController">
		<layer id="mainScreenLayer" childLayout="center">
			<panel align="center" childLayout="Vertical">
				<panel align="center" height="80%"/>
				<control align="center" id="mainPlayButton" name="button" label="Jogar" focusable="false">
					<interact onClick="showAddPlayerMenu()"/>
				</control>
				<control align="center" id="mainOptionsButton" name="button" label="Opcoes" focusable="false">
					<interact onClick="showOptions()"/>
				</control>
				<control align="center" id="mainCreditsButton" name="button" label="Ajuda" focusable="false">
					<interact onClick="showHelp()"/>
				</control>
				<control align="center" id="mainExitButton" name="button" label="Sair" focusable="false">
					<interact onClick="exit()"/>
				</control>
			</panel>
		</layer>
	</screen>
	
	<screen id="empty">
		<layer id="emptyLayer" childLayout="center">
		</layer>
	</screen>
	
	<screen id="addPlayer" controller="gui.AddPlayerController">
		<layer id="popUpAddPlayer" childLayout="center">
			<panel style="nifty-panel-bright" height="50%" width="50%" align="center" childLayout="horizontal">
				<panel style="nifty-panel" id="playerIconsPanel" width="20%" childLayout="vertical" height="100%">
					<image id="player0Icon" align="center" height="10%" width="60%" filename="resources/images/house_logos/stark.png" padding="100px">
						<interact onClick="editPlayer(0)"/>
						<effect>
							<onCustom name="border" border="2px" color="#f00f" timeType="infinite"/>
							<onHover name="border" border="2px" color="#000f" timeType="infinite"/>
						</effect>
					</image>
					<control id="player0Name" name="label" text="" width="100%"/>
					<panel childLayout="center" height="0.5%" width="1%"/>
					<image id="player1Icon" align="center" height="10%" width="60%" filename="resources/images/house_logos/stark.png">
						<interact onClick="editPlayer(1)"/>
						<effect>
							<onCustom name="border" border="2px" color="#f00f" timeType="infinite"/>
							<onHover name="border" border="2px" color="#000f" timeType="infinite"/>
						</effect>
					</image>
					<control id="player1Name" name="label" text="" width="100%"/>
					<panel childLayout="center" height="0.5%" width="1%"/>
					<image id="player2Icon" align="center" height="10%" width="60%" filename="resources/images/house_logos/stark.png">
						<interact onClick="editPlayer(2)"/>
						<effect>
							<onCustom name="border" border="2px" color="#f00f" timeType="infinite"/>
							<onHover name="border" border="2px" color="#000f" timeType="infinite"/>
						</effect>
					</image>
					<control id="player2Name" name="label" text="" width="100%"/>
					<panel childLayout="center" height="0.5%" width="1%"/>
					<image id="player3Icon" align="center" height="10%" width="60%" filename="resources/images/house_logos/stark.png">
						<interact onClick="editPlayer(3)"/>
						<effect>
							<onCustom name="border" border="2px" color="#f00f" timeType="infinite"/>
							<onHover name="border" border="2px" color="#000f" timeType="infinite"/>
						</effect>
					</image>
					<control id="player3Name" name="label" text="" width="100%"/>
					<panel childLayout="center" height="0.5%" width="1%"/>
					<image id="player4Icon" align="center" height="10%" width="60%" filename="resources/images/house_logos/stark.png">
						<interact onClick="editPlayer(4)"/>
						<effect>
							<onCustom name="border" border="2px" color="#f00f" timeType="infinite"/>
							<onHover name="border" border="2px" color="#000f" timeType="infinite"/>
						</effect>
					</image>
					<control id="player4Name" name="label" text="" width="100%"/>
					<panel childLayout="center" height="0.5%" width="1%"/>
					<image id="player5Icon" align="center" height="10%" width="60%" filename="resources/images/house_logos/stark.png">
						<interact onClick="editPlayer(5)"/>
						<effect>
							<onCustom name="border" border="2px" color="#f00f" timeType="infinite"/>
							<onHover name="border" border="2px" color="#000f" timeType="infinite"/>
						</effect>
					</image>
					<control id="player5Name" name="label" text="" width="100%"/>
				</panel>
				<panel align="center" childLayout="vertical">
					<panel align="center" height="30%" width="80%" childLayout="horizontal">
						<panel valign="top" align="center" width="100%" childLayout="horizontal" padding="30px">
							<text textHAlign="left" textVAling="top" font="calibri.fnt" color="#000000" text="Jogadores" width="50%"/>
							<control id="addPlayerButton" name="button" label="+Adicionar Jogador" width="50%" height="55%">
								<interact onClick="addPlayer()"/>
							</control>
						</panel>
					</panel>
					<panel style="nifty-panel" valign="top" align="center" width="80%" height="50%" childLayout="vertical" padding="15px">
						<control id="RadioGroup-1" name="radioButtonGroup"/>
						<panel childLayout="horizontal" width="100%" height="33%">
							<control valign="center" name="label" text="Nome: "/>
							<control valign="center" id="nameTextField" name="textfield" width="85%" text="PlayerName"/>
							<panel childLayout="absolute-inside">
								<image valign="center" align="right" filename="resources/images/close_button.png" height="20px" width="20px">
									<interact onClick="excludePlayer()"/>
								</image>
							</panel>
						</panel>
						<panel valign="center" align="center" childLayout="horizontal" width="100%"  height="25%">
								<control name="radioButton" id="humanRadioBtn" group="RadioGroup-1"/>
								<control name="label" text="Humano" width="20%"/>
								<control name="radioButton" id="cpuRadioBtn" group="RadioGroup-1"/>
								<control name="label" text="Computador"/>
						</panel>
						
						<control align="left" name="label" text="Casa: "/>
						<control valign="bottom" id="dropDown2" name="dropDown" textColor="#ffff" color="#ffff"/>
					</panel>
					<panel align="center" height="10%" childLayout="vertical"/>
					<panel valign="bottom" align="center" width="65%" childLayout="center">
						<control align="left" id="cancelButton" name="button" label="Cancelar">
							<interact onClick="closePopup()"/>
						</control>
						<control align="right" id="playButton" name="button" label="Jogar">
							<interact onClick="playButtonPressed()"/>
						</control>
					</panel>
				</panel>
			</panel>			
		</layer>
	</screen>
	
	<screen id="inGameScreen" controller="gui.InGameGUIController">		
		<layer id="emptyLayer" childLayout="vertical">
			<panel valign="bottom" align="center" width="100%" height="3%" backgroundColor="#333333ff" childLayout="horizontal" padding="10px">
				<control valign="center" textVAlign="center" textHAlign="left" name="label" text="O Jogo" width="5%" height="100px">
					<interact onClick="theGameMenuClicked()"/>
				</control>
				<control valign="center" textHAlign="left" name="label" text="Opções" width="5%" height="100px">
					<interact onClick="optionsMenuClicked()"/>
				</control>
				<control valign="center" textHAlign="left" name="label" text="Ajuda" width="5%" height="100px">
					<interact onClick="helpMenuClicked()"/>
				</control>
				<control valign="center" textHAlign="left" name="label" text="Sair" width="5%" height="100px">
					<interact onClick="exitMenuClicked()"/>
				</control>
			</panel>
			<panel childLayout="horizontal" height="97%">
				<panel backgroundColor="#333333ff" id="myScrollStuff" width="12%" height="100%" childLayout="vertical" padding="1px">
					<panel backgroundColor="#f0f0f0ff" childLayout="vertical">
						<control id="player0Status" name="statusPanel" width="100%" height="14%"/>
						<control id="player1Status" name="statusPanel" width="100%" height="14%"/>
						<control id="player2Status" name="statusPanel" width="100%" height="14%"/>
						<control id="player3Status" name="statusPanel" width="100%" height="14%"/>
						<control id="player4Status" name="statusPanel" width="100%" height="14%"/>
						<control id="player5Status" name="statusPanel" width="100%" height="14%"/>					
					</panel>
				</panel>
				<panel childLayout="vertical" width="88%" height="100%">
					<panel childLayout="vertical" width="100%" height="82%" padding="20px">
						<image align="right" valign="top" filename="resources/images/icons/tabelas.png" width="26px" height="26px">
							<interact onClick="showTables()"/>
						</image>
					</panel>
					<panel backgroundColor="#f0f0f0ff" valign="bottom" align="right" width="100%" height="18%" childLayout="horizontal">
						<panel childLayout="vertical" width="15%">
							<control height="20%" width="100%" font="calibri_bold.fnt" color="#333333ff" id="playerStatusName" name="label" text="Marcelle Guine"/>
							<panel  height="70%" childLayout="vertical" padding="5px">
								<image align="center" filename="resources/images/house_logos/stark.png" height="80%" width="40%"/>
								<control textHAlign="center" color="#333333ff" name="label" text="Stark" height="20%" width="50%"/>
							</panel>
						</panel>
						<panel align="left" id="playerStatusPanel" childLayout="vertical" width="20%" height="100%">
							
							<panel childLayout="horizontal" width="100%" height="29%">
								<image valign="center" filename="resources/images/icons/cartas.png" width="11%" height="70%"/>
								<control valign="center" color="#333333ff" align="left"  id="playerStatusCards" name="label" text="2 cartas" width="33%"/>
								<image valign="center" filename="resources/images/icons/exercitos.png" width="11%" height="70%"/>
								<control valign="center" color="#333333ff" align="left" id="playerStatusUnits" name="label" text="59 exércitos" width="33%"/>
								<image valign="center" filename="resources/images/icons/mapa.png" width="11%" height="70%"/>
								<control valign="center" color="#333333ff" align="left" id="playerStatusTerritories" name="label" text="7 territórios" width="33%"/>
							</panel>
							<control textHAlign="left" width="100%" color="#1464f6ff" id="seeObjectiveButton" name="label" text="Ver objetivo">
								<interact onClick="showPlayerObjective()"/>
							</control>
							
							<panel childLayout="horizontal" width="100%">
								<control align="left" name="button" label="Trocar cartas" width="35%"/>
								<panel childLayout="center" width="10%"/>
								<control align="right" name="button" label="Passar a vez" width="35%"/>
							</panel>
						</panel>
					</panel>
				</panel>
				
			</panel>
		</layer>
	</screen>
	<popup id="objectivePopup" childLayout="center" backgroundColor="#000a">
		<panel padding="10%" style="nifty-panel" width="30%" height="30%" childLayout="vertical">
			<control align="left" textHAlign="left" name="label" text="Seu objetivo" width="100%"/>
			<panel  width="100%" height="3px" childLayout="vertical" backgroundColor="#000"/>
			<control align="left" textHAlign="left" id="objectiveDescLabel" name="label" text="descrição do objetivo" height="60%" width="100%"/>
			<control name="button" label="OK" width="100%">
				<interact onClick="dismissPlayerObjective()"/>
			</control>
		</panel>
	</popup>

	<popup id="quitConfirmationPopup" childLayout="center" backgroundColor="#000a">
		<panel padding="10%" style="nifty-panel" width="20%" height="15%" childLayout="vertical">
			<control height="50%" align="center" name="label" text="Você realmente deseja sair do jogo?"/>
			<panel width="100%" height="50%" valign="bottom" childLayout="horizontal">
				<control align="right" width="40%" name="button" label="Cancelar">
					<interact onClick="dismissExitConfirmation()"/>
				</control>
				<panel childLayout="center" width="10%"/>
				<control align="left" width="40%" name="button" label="Sim">
					<interact onClick="exitGame()"/>
				</control>
			</panel>
		</panel>
	</popup>
	
	<popup id="tablesPopup" childLayout="center" backgroundColor="#000a">
		<panel style="nifty-panel" width="800px" height="350px" childLayout="vertical">
			<panel align="center" childLayout="center" height="95px">
				<image  width="765px" height="85px" filename="resources/images/tabela1.png"/>
			</panel>
			<panel align="center" childLayout="center" height="171px">
				<image  width="609px" height="161px" filename="resources/images/tabela2.jpg"/>
			</panel>
			<panel align="center" childLayout="center" height="55px">
				<control name="button" label="OK" width="50px">
					<interact onClick="dismissTablesPopup()"/>
				</control>
			</panel>
		</panel>
	</popup>
	
	<popup id="helpPopup" childLayout="center">
		<panel margin="30px" style="nifty-panel" width="50%" height="50%" childLayout="vertical">
			<control height="10%" width="100%" textHAlign="left" name="label" text="Ajuda"/>
			<control style="nifty-listbox" width="100%" height="80%" name="scrollPanel" horizontal="false">
				<control textHAlign="left" textVAlign="top" wrap="true" width="90%" height="100%" name="label" text="&#10;
\#FCDC3B#EXÉRCITOS\#FCDC3B#&#10;
Cada jogador escolhe a casa que lhe agrada dentro das 6 possíveis (Baratheon, Greyjoy, Lannister, Stark, Targaryen ou Free Folk).&#10;
&#10;
\#FCDC3B#OBJETIVOS\#FCDC3B#&#10;
Cada jogador recebrá 1 objetivo, tomando conhecimento do seu teor e evitando revelá-lo aos seus adversários.&#10;
&#10;
\#FCDC3B#O JOGO\#FCDC3B#&#10;
Cada jogador passa na sua vez, tanto na primeira como em todas as outras rodadas, pelas seguintes etapas, nesta ordem:&#10;
a) receber novos exércitos e os colocar de acordo com a sua estratégia;&#10;
b) se desejar, atacar os seus adversários;&#10;
c) desloca seus exércitos se houver conveniência; e&#10;
d) receber uma carta se fizer jus a isto.&#10;
&#10;
\#FCDC3B#COLOCAÇÃO DE EXÉRCITOS\#FCDC3B#&#10;
O jogador, no início de sua jogada, recebe exércitos da seguinte forma: soma-se o número total de seus territórios e divide-se por 2, só se considerando a parte inteira do resultado.&#10;
Exemplo: se o jogador possuir 8 territórios, então ele receberá 4 exércitos. Se possuir 11 territórios, receberá 5 exércitos.&#10;
O jogador deverá colocar neste momento todos os exércitos recebidos, em um ou mais de seus territórios, conforme seja a sua estratégia. Em seguida pode-se ou não atacar algum adversário, tentando conquistar mais territórios.&#10;
Se no início da sua vez de jogar o jogador possuir por inteiro um continente, então ele receberá, além dos exércitos a que fizer jus, outros exércitos de acordo com os valores da Tabela de Exércitos por Continentes. Os exércitos recebidos pela posse de um continente deverão ser distribuídos obrigatoriamente nos territórios do próprio continente.&#10;
&#10;
Exemplo: supondo-se que o jogador possua 19 territórios, sendo 14 espalhados por vários continentes e o Norte inteiro (5 territórios). Ele receberá no início de sua jogada:&#10;
número de territórios possuídos: 14 + 5 = 19&#10;
número de exércitos a receber: 9 + 4 = 11&#10;
sendo que os 4 correspondentes ao Norte devem ser colocados neste continente.&#10;
Obs. 1: o número mínimo de exércitos a receber é sempre 3, mesmo no caso do jogador possuir menos de 6 territórios.&#10;
Obs. 2: no início da jogada, o participante deve receber exércitos a partir do número de territórios possuídos, e conforme for o caso receber mais exércitos se possuir um continente por inteiro, ou se puder trocar as cartas (explicações na seção conquista de cartas).&#10;
&#10;
\#FCDC3B#ATAQUES\#FCDC3B#&#10;
É necessário que haja pelo menos 1 exército em cada território ocupado. Assim, para atacar a partir de um território, são necessários ao menos 2 exércitos neste mesmo território.&#10;
O exército de ocupação não tem o direito de atacar.&#10;
&#10;
\#FCDC3B#REGRAS\#FCDC3B#&#10;
1) O ataque, a partir de um território qualquer possuído, só pode ser dirigido a um território adversário que tenha fronteiras em comum (território contíguo) ou ligado através de um pontilhado.&#10;
2) O número de exércitos que poderá participar de um ataque será igual ao número de exércitos situados no território atacante menos um, que é o exército de ocupação.&#10;
3) O número máximo de exércitos participantes em cada ataque é de 3, mesmo que o número de exércitos possuídos no território seja superior a 4.&#10;
4) Um jogador pode atacar tantas vezes quantas quiser para conquistar um território adversário, até ficar só um exército no seu território ou, ainda, até quando achar conveniente não atacar.&#10;
5) Na sua vez de jogar, cada participante pode realizar ataques partindo de um ou vários territórios, de acordo com a sua estratégia. Se ele quiser atacar de mais de um território, ele deve indicar antes de qual território vai partir o ataque e contra qual território será feito. Uma vez finalizado o 1o. ataque, poderá iniciar outro ataque a partir do mesmo ou outro território que lhe pertença.&#10;
6) O número de exércitos que a defesa pode usar, em cada batalha, é de no máximo 3 e no mínimo 1 (podendo utilizar inclusive o exército de ocupação).&#10;
7) O jogador atacante jogará com tantos dados quantos forem os seus exércitos participantes da batalha, o mesmo ocorrendo com o jogador da defesa. Assim, se o atacante usar 3 exércitos contra um da defesa, ele jogará 3 dados contra um do defensor.&#10;
&#10;
\#FCDC3B#CONTAGEM DOS DADOS\#FCDC3B#&#10;
Após uma batalha, a decisão de quem ganha e quem perde exércitos é feita da seguinte forma: compara-se o maior ponto do dado atacante (vermelho) com o maior ponto do dado defensor (amarelo) e o maior deles ganha, sendo que o empate é sempre da defesa. Em seguida compara-se o 2o. maior ponto atacante com o 2o. maior do defensor, e a decisão de vitória é como no caso anterior. Por fim, comparam os menores valores, baseando-se na mesma regra.&#10;
&#10;
\#FCDC3B#CONQUISTA DE TERRITÓRIOS\#FCDC3B#&#10;
Se após a batalha o atacante destruir todos os exércitos do território do defensor, terá então conquistado o território e deverá, após a conquista, deslocar seus exércitos atacantes para o território conquistado. Este deslocamento obedece à seguinte regra: o número de exércitos a ser deslocado neste instante é igual, no máximo, ao número de exércitos que participaram do último ataque.&#10;
Se após conquistar um território o atacante quiser, ele poderá deslocar seus exércitos para o território conquistado, respeitando a regra anterior, e a partir do território conquistado realizar novo ataque.&#10;
&#10;
\#FCDC3B#REMANEJAMENTOS\#FCDC3B#&#10;
Ao finalizar seus ataques o jogador poderá, de acordo com a sua estratégia, efetuar deslocamentos de exércitos entre os seus territórios contíguos.&#10;
Estes deslocamentos deverão obedecer às seguintes regras:&#10;
1) em cada território deve permanecer sempre pelo menos um exército (de ocupação) que nunca pode ser deslocado;&#10;
2) um exército pode ser deslocado uma única vez, isto é, não se pode deslocar um exército para um território contíguo e deste para outro, também contíguo, numa mesma jogada.&#10;
&#10;
CONQUISTA DE CARTAS&#10;
Se durante a sua jogada o jogador conseguir conquistar um ou mais territórios, terá o direito de receber uma carta ao final da jogada, após ter realizado os deslocamentos. É importante notar que, por jogada, só se recebe uma única carta-território. O conteúdo desta carta deve ser mantido em segredo até o momento apropriado de sua troca.&#10;
As cartas-territórios quando devidamente combinadas dão direito, no início da jogada, a receber um certo número de exércitos de acordo com a Tabela de Troca de Cartas. As trocas de cartas por exércitos não se referem às trocas do jogador mais sim às trocas do jogo.&#10;
Para se trocar cartas por exércitos, é necessário que o jogador possua no mínimo 3 cartas que obedeçam à seguinte regra de combinação: possuir 3 figuras geométricas distintas ou então 3 figuras geométricas iguais. No entanto, o jogador não é obrigado a fazer a troca quando tiver feito uma das combinações descritas: isto vai depender do seu interesse no momento. No caso, porém, do jogador possuir 5 cartas, ele será obrigado, na sua vez de jogar, a trocar cartas por exércitos.&#10;
Finalmente, se ao trocar as cartas o jogador possuir o território indicado na carta, então receberá mais 2 exércitos obrigatoriamente colocados naquele território.&#10;
&#10;
Notas:&#10;
1) É importante a conquista de uma carta a cada jogada, pois as cartas dão direito ao recebimento de mais exércitos.&#10;
2) As cartas trocadas são colocadas à parte do jogo. Quando todas as cartas tiverem sido distribuídas, elas serão recolocadas em jogo, constituindo-se um novo “monte”.&#10;
&#10;
\#FCDC3B#ELIMINAÇÃO DE UM CONCORRENTE\#FCDC3B#&#10;
Se durante o transcurso do jogo, um participante destruir por completo um outro, não sendo este o seu objetivo (caso em que teria ganho o jogo), ele recebe as cartas do jogador que foi destruído e pode usá-las para troca, combinando ou não com as suas ao final da sua jogada. Se não o fizer, poderá guardar as caras e usá-las em outra oportunidade, desde que não guarde mais de 5 cartas.&#10;
&#10;
\#FCDC3B#FINAL DO JOGO\#FCDC3B#&#10;
O jogo termina quando um jogador atinge o seu objetivo.&#10;
&#10;
\#FCDC3B#RESUMO DAS FASES DO JOGO\#FCDC3B#&#10;
Em cada vez de jogar, o participante pode:&#10;
1o. RECEBER NOVOS EXÉRCITOS em função dos territórios possuídos;&#10;
2o. COLOCAR ESTES EXÉRCITOS, de acordo com a sua estratégia;&#10;
3o. EFETUAR OS SEUS ATAQUES;&#10;
4o. DESLOCAR SEUS EXÉRCITOS, se desejar;&#10;
5o. RECEBER UMA CARTA-TERRITÓRIO, se conseguir conquistar ao menos um território."/>
		</control>
		<control height="10%" align="center" name="button" label="OK" width="50px">
			<interact onClick="closeHelpPopup()"/>
		</control>
		</panel>
	</popup>
</nifty>